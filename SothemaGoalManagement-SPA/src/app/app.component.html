<div *ngIf="loggedIn()">
  <app-nav></app-nav>
  <ngx-loading [show]="isSpinnerVisibile$ | async"></ngx-loading>
  <router-outlet></router-outlet>
</div>

<!--Login form-->
<div *ngIf="!loggedIn()" class="container login-container">
  <ngx-loading [show]="loading"></ngx-loading>
  <div class="row">
    <div class="col-md-6 login-form-1">
    </div>

    <div class="col-md-6 login-form-2">
      <div class="logo-container">
        <img src="../../assets/SGM.png" class="logo" alt="Logo">
      </div>

      <form #loginForm="ngForm" (ngSubmit)="login()">
        <div class="input-group mb-3">
          <div class="input-group-append">
            <span class="input-group-text">
              <fa-icon [icon]="faUser"></fa-icon>
            </span>
          </div>
          <input class="form-control input_user" type="text" placeholder="Adresse Email" [(ngModel)]="model.username" required name="username">
        </div>
        <div class="input-group mb-3">
          <div class="input-group-append">
            <span class="input-group-text">
              <fa-icon [icon]="faKey"></fa-icon>
            </span>
          </div>
          <input class="form-control input_pass" type="password" placeholder="Mot de Passe" [(ngModel)]="model.password" required name="password">
        </div>
        <div class="form-group">
          <button type="submit" [disabled]="!loginForm.valid" class="btn btn-success btn-lg">Se Connecter</button>
        </div>
        <div class="form-group">
          <a [routerLink]="['/requestResetPassword']">Mot de passe oubliÃ©?</a>
        </div>

      </form>
    </div>
  </div>
</div>
