<div class="card mt-1" style="cursor: pointer" (click)="isCollapsed = !isCollapsed" *ngFor="let behavioralSkillInstance of behavioralSkillInstanceList">
  <div class=" card-header ">
    <div class="row">
      <div class="col-md-4">
        {{ behavioralSkillInstance.skill }}
      </div>

      <div class="col-md-4">
        <label>Niveau:</label>
        <span class="badge badge-pill badge-success" title="Niveau de compétence comportementale">
          {{ behavioralSkillInstance.level }}
        </span>
      </div>

      <div class="col-md-3">
        <label>Note:</label>
        <span class="badge badge-pill badge-success" title="Note de compétence comportementale">
          {{ behavioralSkillInstance.grade }}
        </span>
      </div>

      <div class="col-md-1 float-right">
        <fa-icon [icon]="faCaretDown" *ngIf="isCollapsed"></fa-icon>
        <fa-icon [icon]="faCaretUp" *ngIf="!isCollapsed"></fa-icon>
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-md-12">
        {{ behavioralSkillInstance.definition }}
      </div>
    </div>

  </div>
  <div class="card-body" *ngIf="!isCollapsed" (click)="$event.stopPropagation()">
    <div class="float-right mb-1">
      <button class="btn btn-primary" (click)="addEvaluation()">
        Ajouter une évaluation
      </button>
    </div>
    <table class="table table-hover">
      <tr>
        <th style="width: 20%">Date heure</th>
        <th style="width: 15%">Évaluateur</th>
        <th style="width: 18%">Note</th>
        <th style="width: 42%">Commentaire</th>
        <th style="width: 5%"></th>
      </tr>
      <tr *ngFor="let evaluation of goal.goalEvaluations">
        <td>{{ evaluation.created | date :'short' }}</td>
        <td>{{ evaluation.evaluatorName }}</td>
        <td>
          <span class="badge badge-pill badge-success">{{ evaluation.grade }}</span>
        </td>
        <td>{{ evaluation.comment }}</td>
        <td>

        </td>
      </tr>
    </table>
  </div>
</div>

<div class="row alert alert-info mt-1" role="alert">
  <div class="offset-md-7 col-md-3">
    <h3>
      Note Total:
    </h3>
  </div>
  <div class="col-md-2">
    <h3>
      <span class="badge badge-pill badge-success" title="Total des axes">
        {{ totalGrade }} %
      </span>
    </h3>
  </div>
</div>
