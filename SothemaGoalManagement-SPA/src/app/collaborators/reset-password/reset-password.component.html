<div class="container mt-5">
  <ngx-loading [show]="loading"></ngx-loading>
  <div class="container h-100">
    <div class="d-flex justify-content-center h-100">
      <div class="user_card">
        <div class="d-flex justify-content-center">
          <div class="brand_logo_container">
            <img src="../../assets/logo.png" class="brand_logo" height="" alt="Logo">
          </div>
        </div>

        <div class="header">
          <h3>Réinitialisation de votre mot de passe</h3>
        </div>

        <div class="d-flex justify-content-center form_container">
          <form [formGroup]="resetPasswordForm" (ngSubmit)="resetPassword()">
            <div class="input-group mb-2">
              <div class="input-group-append">
                <span class="input-group-text">
                  <label>Nouveau Password:</label>
                </span>
              </div>
              <input [ngClass]="{
        'is-invalid':
          resetPasswordForm.get('password').errors &&
          resetPasswordForm.get('password').touched
      }" type="password" class="form-control input_pass" [(ngModel)]="model.newPassword" formControlName="password" />
              <div class="input-group-text" *ngIf="
        resetPasswordForm.get('password').hasError('required') &&
        resetPasswordForm.get('password').touched
      ">
                Password is required
              </div>
              <div class="input-group-text" *ngIf="
        resetPasswordForm.get('password').hasError('minlength') &&
        resetPasswordForm.get('password').touched
      ">
                Password must be at least 4 characters
              </div>
              <div class="input-group-text" *ngIf="
        resetPasswordForm.get('password').hasError('maxlength') &&
        resetPasswordForm.get('password').touched
      ">
                Password cannot exceed 8 characters
              </div>
            </div>
            <div class="input-group mb-2">
              <div class="input-group-append">
                <span class="input-group-text">
                  <label>Confirmez Password:</label>
                </span>
              </div>
              <input [ngClass]="{
        'is-invalid':
          (resetPasswordForm.get('confirmPassword').errors &&
            resetPasswordForm.get('confirmPassword').touched) ||
          (resetPasswordForm.get('confirmPassword').touched &&
            resetPasswordForm.hasError('mismatch'))
      }" type="password" class="form-control input_pass" [(ngModel)]="model.confirmNewPassword" formControlName="confirmPassword"
              />
              <div class="input-group-text" *ngIf="
        resetPasswordForm.get('confirmPassword').hasError('required') &&
        resetPasswordForm.get('confirmPassword').touched
      ">
                Password is required
              </div>
              <div class="input-group-text" *ngIf="
        resetPasswordForm.hasError('mismatch') &&
        resetPasswordForm.get('confirmPassword').touched
      ">
                Password must match
              </div>
            </div>
            <div class="input-group mb-2">
              <div class="input-group-append">
                <span class="input-group-text">
                  <label>Jeton de retour:</label>
                </span>
              </div>
              <input class="form-control input_user" type="text" [(ngModel)]="model.token" formControlName="token">
            </div>
            <div class="d-flex justify-content-center mt-3 login_container">
              <button type="submit" [disabled]="!resetPasswordForm.valid " class="btn btn-success btn-lg">Créer</button>
            </div>
          </form>
        </div>

        <div class="mt-4">
          <div class="d-flex justify-content-center links">
            <a [routerLink]="['/home']">Retour à la page d'accueil</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
